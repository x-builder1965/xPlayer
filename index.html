<!-- --------------------------------------------------------------------- -->
<!-- const copyright = 'Copyright © 2025 @x-builder, Japan'; -->
<!-- const email = 'x-builder@gmail.com'; -->
<!-- const appName = 'xPlayer -動画プレイヤー- Ver3.28'; -->
<!-- --------------------------------------------------------------------- -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xPlayer -動画プレイヤー-</title>
    <link rel="icon" type="image/x-icon" href="xPlayer.ico">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main-container">
        <div class="video-container">
            <video id="videoPlayer" src=""></video>
            <video id="videoPreview" src="" muted></video>
            <div id="darkOverlay"></div>
            <div class="filename">
                <div class="filename-controls">
                    <button id="modeChangeBtn" data-tooltip="視聴モード（Ctrl+v）">🎬</button>
                    <button id="editModeBtn" data-tooltip="編集モード（Ctrl+e）">✂️</button>
                    <select id="filenameDisplay" data-tooltip="再生動画リスト">
                        <option value=""></option>
                    </select>
                    <div class="filename-menus">
                        <button id="upMovePlaylistBtn" data-tooltip="上へ（Shift+p／Home）">🔼</button>
                        <button id="downMovePlaylistBtn" data-tooltip="下へ（Shift+n／End）">🔽</button>
                        <button id="addPlaylistBtn" data-tooltip="追加（Shift+a）">➕</button>
                        <button id="removePlaylistBtn" data-tooltip="削除（Shift+d）">➖</button>
                        <button id="clearPlaylistBtn" data-tooltip="クリア（Shift+c）">🆑</button>
                        <button id="savePlaylistBtn" data-tooltip="保存（Shift+s）">💾</button>
                        <span class="spacer"></span>
                    </div>
                    <button id="filenameMenu" data-tooltip="プレイリスト編集">🚥</button>
                </div>
                <div class="url-controls">
                    <input id="urlInput" type="text" placeholder="動画のURLを入力" data-tooltip="動画のURLを入力">
                    <button id="urlConfirmBtn" data-tooltip="URL再生（Enter）">✅</button>
                    <button id="urlCancelBtn" data-tooltip="キャンセル（Escape）">❌</button>
                </div>
                <div class="control-row" id="editControls" style="display:none;">
                    <button id="setInMarkBtn" data-tooltip="インマークを設定">📍←</button>
                    <span id="inMarkDisplay" style="width: 60px; text-align: center;">--:--:--</span>
                    <input type="range" id="editSeekBar" value="0" min="0" max="100" data-tooltip="カット編集位置">
                    <span id="outMarkDisplay" style="width: 60px; text-align: center;">--:--:--</span>
                    <button id="setOutMarkBtn" data-tooltip="アウトマークを設定">→📍</button>
                    <button id="addCutRangeBtn" data-tooltip="カット設定を追加">✅</button>
                    <button id="saveVideoBtn" data-tooltip="設定したカットを適用して保存">💾</button>
                    <button id="cancelEditBtn" data-tooltip="編集をキャンセル">❌</button>
                    <div id="cutRangesContainer" style="display:block; margin-top:6px; width:100%;">
                        <div id="cutRangesList" style="max-height:120px; overflow:auto; background:#12121222; padding:6px; border-radius:4px;"></div>
                    </div>
                </div>
            </div>
            <div id="overlayDisplay"></div>
            <div id="iconOverlay" class="icon-overlay"></div>
            <div class="controls">
                <div class="control-row">
                    <div class="left-controls">
                        <button id="urlInputBtn" data-tooltip="ネット動画選択（Ctrl+n）">🌐</button>
                        <button id="folderInput" data-tooltip="フォルダ選択（Ctrl+d）">📁</button>
                        <button id="videoInput" data-tooltip="ファイル選択（Ctrl+f）">🗒️</button>
                        <span class="spacer"></span>
                        <button id="prevVideoBtn" data-tooltip="前の動画へ（PgUp）">⏮️</button>
                        <button id="rewindBtn" data-tooltip="30秒戻る（Ctrl+←）">⏪</button>
                        <button id="playStopBtn" data-tooltip="停止（Ctrl+Space／Ctrl+Right Click）">⏹️</button>
                        <button id="playPauseBtn" data-tooltip="再生（Space／Right Click）">▶️</button>
                        <button id="fastForwardBtn" data-tooltip="30秒進む（Ctrl+→）">⏩</button>
                        <button id="nextVideoBtn" data-tooltip="次の動画へ（PgDw）">⏭️</button>
                        <span class="spacer"></span>
                        <button id="fitModeBtn" data-tooltip="横に合わせる（Ctrl+x）">↔️</button>
                        <button id="zoomBtn" data-tooltip="ズームモード（Ctrl+z）">🔍</button>
                        <button id="fullscreenBtn" data-tooltip="フルスクリーン表示（Ctrl+z／Double Click）">🖥️</button>
                        <button id="helpOpenBtn" data-tooltip="ヘルプ開く（Ctrl+h）">❔</button>
                    </div>
                    <label class="app-name-and-copyright" id="appNameAndCopyright"></label>
                </div>
                <div class="control-row">
                    <button id="volumeMuteBtn" data-tooltip="ミュート（Ctrl+m）">🔊</button>
                    <span id="volumeDisplay" data-tooltip="音量（↑↓／Swipe Up Down／Wheel）">20%</span>
                    <input type="range" id="volumeBar" value="0.2" min="0" max="1" step="0.01" data-tooltip="音量変更（↑↓／Swipe Up Down）">
                    <select id="speedSelect" data-tooltip="再生速度（Ctrl+.／Ctrl+,）">
                        <option value="0.25">0.25x</option>
                        <option value="0.50">0.50x</option>
                        <option value="0.75">0.75x</option>
                        <option value="1.00" selected>1.00x</option>
                        <option value="1.25">1.25x</option>
                        <option value="1.50">1.50x</option>
                        <option value="1.75">1.75x</option>
                        <option value="2.00">2.00x</option>
                    </select>
                    <span id="timeDisplay" data-tooltip="再生時間/動画時間（←→／Swipe Left Right）">0:00:00 / 0:00:00</span>
                    <input type="range" id="seekBar" value="0" min="0" max="100" data-tooltip="再生位置変更（←→／Swipe Left Right）">
                </div>
            </div>
            <div id="zoomPanel" style="display:none;">
                <input type="range" id="zoomBar" value="0" min="-100" max="100" step="5" data-tooltip="ズーム調整">
                <span id="zoomDisplay">0%</span>
            </div>
        </div>
        <div class="help-container">
            <div class="header-row">
                <h1>xPlayer -動画プレイヤー- Ver3.28</h1>
                <button id="helpCloseBtn" data-tooltip="ヘルプ閉じる（Escape）">❌</button>
            </div>
            <div class="table-container">
                <table class="header-table">
                    <caption>機能別コントロール・キー操作・マウス操作対応表</caption>
                    <colgroup class="colgroup">
                        <col><col><col><col><col>
                    </colgroup>
                    <thead>
                        <tr>
                            <th>機能</th>
                            <th>コントロール</th>
                            <th>キー操作</th>
                            <th>マウス操作</th>
                            <th>説明</th>
                        </tr>
                    </thead>
                </table>
                <div class="body-table">
                    <table>
                        <colgroup class="colgroup">
                            <col><col><col><col><col>
                        </colgroup>
                        <tbody>
                            <tr>
                                <td class="sub-title">プレイリスト</td>
                                <td class="icon sub-title"></td>
                                <td class="key sub-title"></td>
                                <td class="mouse sub-title"></td>
                                <td class="note sub-title"></td>
                            </tr>
                            <tr>
                                <td>　・動作モード切替</td>
                                <td class="icon">🎬／🔄️</td>
                                <td class="key">Ctrl+v</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・xPlayerの動作を視聴モード（青）／変換モード（赤）でトグル。（再生・変換中は無効）</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト</td>
                                <td class="icon">Drop-down list</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリスト内の動画選択再生。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 表示／非表示</td>
                                <td class="icon">🚥</td>
                                <td class="key">Shift+m</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリスト編集を表示／非表示でトグル。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 上へ移動</td>
                                <td class="icon">🔼</td>
                                <td class="key">Shift+p</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの選択動画を上へ移動。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 下へ移動</td>
                                <td class="icon">🔽</td>
                                <td class="key">Shift+n</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの選択動画を下へ移動。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 動画追加</td>
                                <td class="icon">➕</td>
                                <td class="key">Shift+a</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの最後に選択した動画・プレイリスト内の動画を追加。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 動画削除</td>
                                <td class="icon">➖</td>
                                <td class="key">Shift+d</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの選択位置の動画を削除。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 クリア</td>
                                <td class="icon">🆑</td>
                                <td class="key">Shift+c</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの全動画をクリア。</td>
                            </tr>
                            <tr>
                                <td>　・プレイリスト編集 保存</td>
                                <td class="icon">💾</td>
                                <td class="key">Shift+s</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストを名前をつけて保存。</td>
                            </tr>
                            <tr>
                                <td class="sub-title">動画カット編集</td>
                                <td class="icon sub-title"></td>
                                <td class="key sub-title"></td>
                                <td class="mouse sub-title"></td>
                                <td class="note sub-title"></td>
                            </tr>
                            <tr>
                                <td>　・編集モード切替</td>
                                <td class="icon">✂️</td>
                                <td class="key">Ctrl+e</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・編集モードを起動。📍←と →📍でカット範囲を指定して動画をカット。</td>
                            </tr>
                            <tr>
                                <td>　・INマーク設定</td>
                                <td class="icon">📍←</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・カット編集の開始位置を設定。</td>
                            </tr>
                            <tr>
                                <td>　・OUTマーク設定</td>
                                <td class="icon">→📍</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・カット編集の終了位置を設定。</td>
                            </tr>
                            <tr>
                                <td>　・カット設定</td>
                                <td class="icon">✅</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・カットの範囲を設定。</td>
                            </tr>
                            <tr>
                                <td>　・カット実行・保存</td>
                                <td class="icon">💾</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・動画カットを実行し、指定された場所に保存。</td>
                            </tr>
                            <tr>
                                <td>　・カットキャンセル</td>
                                <td class="icon">❌</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・カット編集をキャンセル。</td>
                            </tr>
                            <tr>
                                <td class="sub-title">ネット動画再生</td>
                                <td class="icon sub-title"></td>
                                <td class="key sub-title"></td>
                                <td class="mouse sub-title"></td>
                                <td class="note sub-title"></td>
                            </tr>
                            <tr>
                                <td>　・ネット動画URL入力</td>
                                <td class="icon">Text Box</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・ネット動画のURL入力。</td>
                            </tr>
                            <tr>
                                <td>　・ネット動画再生 URL確定</td>
                                <td class="icon">✅</td>
                                <td class="key">Enter</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・YouTube・Twichなどの動画をポップアウトで再生。</td>
                            </tr>
                            <tr>
                                <td>　・ネット動画再生 キャンセル</td>
                                <td class="icon">❌</td>
                                <td class="key">Escape</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・ネット動画のURLをキャンセル。</td>
                            </tr>
                            <tr>
                                <td class="sub-title">コントロールパネル</td>
                                <td class="icon sub-title"></td>
                                <td class="key sub-title"></td>
                                <td class="mouse sub-title"></td>
                                <td class="note sub-title"></td>
                            </tr>
                            <tr>
                                <td>　・ネット動画入力表示</td>
                                <td class="icon">🌐</td>
                                <td class="key">Ctrl+n</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・ネット動画のURL入力表示または再生（URLコピー済）。</td>
                            </tr>
                            <tr>
                                <td>　・フォルダ選択</td>
                                <td class="icon">📁</td>
                                <td class="key">Ctrl+d</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・選択フォルダ内（階層フォルダ含む）の動画およびプレイリスト内の動画を再生。</td>
                            </tr>
                            <tr>
                                <td>　・ファイル選択</td>
                                <td class="icon">🗒️</td>
                                <td class="key">Ctrl+f</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・選択動画（mp4、webm、mkv）またはプレイリスト（amppl）内の動画を再生。</td>
                            </tr>
                            <tr>
                                <td>　・前の動画へ</td>
                                <td class="icon">⏮️</td>
                                <td class="key">PgUp<br>Home</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの再生中動画の前動画を再生。Home押下で先頭へ移動。</td>
                            </tr>
                            <tr>
                                <td>　・30秒戻る</td>
                                <td class="icon">⏪</td>
                                <td class="key">Ctrl+←</td>
                                <td class="mouse">Ctrl+Swipe Left</td>
                                <td class="note">・再生中のまたは一時停止中動画を30秒前に戻す。</td>
                            </tr>
                            <tr>
                                <td>　・停止</td>
                                <td class="icon">⏹️</td>
                                <td class="key">Ctrl+Space</td>
                                <td class="mouse">Ctrl+Right Click</td>
                                <td class="note">・再生中の動画を停止。再開時は先頭から再生。</td>
                            </tr>
                            <tr>
                                <td>　・再生／一時停止</td>
                                <td class="icon">▶️／⏸️</td>
                                <td class="key">Space</td>
                                <td class="mouse">Right Click</td>
                                <td class="note">・プレイリストで選択中の動画を再生（再開）または再生中の動画を一時停止。</td>
                            </tr>
                            <tr>
                                <td>　・30秒進む</td>
                                <td class="icon">⏩</td>
                                <td class="key">Ctrl+→</td>
                                <td class="mouse">Ctrl+Swipe Right</td>
                                <td class="note">・再生中のまたは一時停止中動画を30秒先に進める。</td>
                            </tr>
                            <tr>
                                <td>　・次の動画へ</td>
                                <td class="icon">⏭️</td>
                                <td class="key">PgDw<br>End</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイリストの再生中動画の次動画を再生。End押下で最後へ移動。</td>
                            </tr>
                            <tr>
                                <td>　・ズームモード開始／終了</td>
                                <td class="icon">🔍／✖️</td>
                                <td class="key">Ctrl+z</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・ズームモードを開始／終了。ズーム中は Ctrl+↑（拡大）、Ctrl+↓（縮小）、Ctrl+0（リセット）で調整。</td>
                            </tr>
                            <tr>
                                <td>　・横に合わせる／縦に合わせる</td>
                                <td class="icon">↔️／↕️</td>
                                <td class="key">Ctrl+x</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・再生動画を画面の横幅または縦幅に合わせて拡大・縮小。</td>
                            </tr>
                            <tr>
                                <td>　・フルスクリーン表示／解除</td>
                                <td class="icon">🖥️／❌</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse">Double Click</td>
                                <td class="note">・プレイヤーのフルスクリーン表示またはウィンドウ表示を切り替える。</td>
                            </tr>
                            <tr>
                                <td>　・ヘルプ開く</td>
                                <td class="icon">❔</td>
                                <td class="key">Ctrl+h</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・プレイヤーの操作説明（当画面）を開く。</td>
                            </tr>
                            <tr>
                                <td>　・ミュート設定／解除</td>
                                <td class="icon">🔇／🔊</td>
                                <td class="key">Ctrl+m</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・再生中の動画の音声をミュートまたはミュート解除を切り替える。</td>
                            </tr>
                            <tr>
                                <td>　・音量変更</td>
                                <td class="icon">Slider</td>
                                <td class="key">↑／↓</td>
                                <td class="mouse">Swipe Up／Swipe Down<br>Wheel Up／Wheel Down</td>
                                <td class="note">・ボリュームバーの操作で音量を変更。</td>
                            </tr>
                            <tr>
                                <td>　・再生速度変更</td>
                                <td class="icon">Drop-down list</td>
                                <td class="key">Ctrl+.／Ctrl+,</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・再生速度を0.25×〜2.0×の間で変更できます。</td>
                            </tr>
                            <tr>
                                <td>　・再生時間変更</td>
                                <td class="icon">Slider</td>
                                <td class="key">←／→</td>
                                <td class="mouse">Swipe Left／Swipe Right</td>
                                <td class="note">・シークバーの操作でプレビュー表示、再生時間を変更。</td>
                            </tr>
                            <tr>
                                <td class="sub-title">その他操作</td>
                                <td class="icon sub-title"></td>
                                <td class="key sub-title"></td>
                                <td class="mouse sub-title"></td>
                                <td class="note sub-title"></td>
                            </tr>
                            <tr>
                                <td>　・ﾌﾟﾚｲﾘｽﾄ・ｺﾝﾄﾛｰﾙ表示／非表示</td>
                                <td class="icon no-data">なし</td>
                                <td class="key">Ctrl+c</td>
                                <td class="mouse">Click</td>
                                <td class="note">・プレイリスト・コントロール表示／非表示をトグル。（3秒で自動非表示）</td>
                            </tr>
                            <tr>
                                <td>　・関連付け再生</td>
                                <td class="icon no-data">なし</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・エクスプローラで動画、プレイリストの選択で再生。</td>
                            </tr>
                            <tr>
                                <td>　・ドラッグ＆ドロップ再生</td>
                                <td class="icon no-data">なし</td>
                                <td class="key no-data">なし</td>
                                <td class="mouse no-data">なし</td>
                                <td class="note">・フォルダ、動画ファイル、プレイリストのドラッグ＆ドロップで再生。</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>