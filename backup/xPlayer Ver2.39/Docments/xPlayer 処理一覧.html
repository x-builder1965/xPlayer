<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>xPlayer - 処理一覧</title>
  <style>
    :root {
      --bg: #0a0a0a;
      --surface: #1a1a1a;
      --text: #e5e5e5;
      --text-header: #88c0d0;
      --text-secondary: #bbbbbb;
      --primary: #5e81ac;
      --border: #2a2a2a;
      --hover: #252525;
      --code: #aae1f0;
      --init: #d08770;
      --volume: #b48ead;
      --control: #a3be8c;
      --seek: #81a1c1;
      --video: #d8dee9;
      --global: #8fbcbb;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; } /* スムーズスクロール */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      padding-bottom: 90px; /* footer分の余白 */
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }
    header {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #1a1a2e, #16213e);
      border-radius: 18px;
      margin-bottom: 35px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: var(--text-header);
      font-weight: 700;
    }
    header p {
      color: var(--text-secondary);
      font-size: 1.05rem;
      margin-bottom: 15px;
    }
    .stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
      margin-top: 20px;
    }
    .stat {
      background: var(--surface);
      padding: 14px 28px;
      border-radius: 14px;
      font-weight: bold;
      border: 1.5px solid var(--border);
      color: var(--text);
      min-width: 140px;
      transition: all 0.2s ease;
    }
    .stat:hover {
      background: var(--hover);
      transform: translateY(-2px);
    }
    .stat a {
      color: inherit;
      text-decoration: none;
      display: block;
    }
    .stat strong {
      color: var(--text-header);
      font-size: 1.2rem;
    }
    .section {
      margin-bottom: 50px;
    }
    .section-title {
      font-size: 1.7rem;
      margin-bottom: 20px;
      color: var(--primary);
      padding-bottom: 10px;
      border-bottom: 3px solid var(--primary);
      display: inline-block;
      font-weight: 600;
    }
    .table-wrapper {
      overflow-x: auto;
      border-radius: 14px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      border: 1px solid var(--border);
      margin-bottom: 25px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--surface);
      font-size: 0.94rem;
    }
    th, td {
      padding: 16px 20px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    th {
      background: #252525;
      color: #fff;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 10;
      font-size: 0.85rem;
      letter-spacing: 0.7px;
      text-transform: uppercase;
    }
    tr:hover {
      background: var(--hover);
    }
    .code {
      font-family: 'JetBrains Mono', 'Courier New', monospace;
      background: #2a2a2a;
      padding: 4px 8px;
      border-radius: 6px;
      color: var(--code);
      font-size: 1.2rem;
      font-weight: 500;
    }
    .badge {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.78rem;
      font-weight: bold;
      color: white;
      text-transform: uppercase;
    }
    .badge-init { background: var(--init); }
    .badge-func { background: #7c4dff; }
    .badge-event { background: #ff6d00; }
    .badge-global { background: var(--global); }
    .badge-video { background: #e91e63; }
    .badge-seek { background: var(--seek); }
    .badge-volume { background: var(--volume); }
    .badge-control { background: var(--control); }
    .icon {
      font-size: 1.3rem;
      margin-right: 10px;
      vertical-align: middle;
    }
    .badge-util      { background: #5e81ac; }
    .badge-ui        { background: #81a1c1; }
    .badge-state     { background: #b48ead; }
    .badge-playlist  { background: #a3be8c; }
    .badge-play      { background: #88c0d0; }
    .badge-net       { background: #d08770; }
    .badge-mode      { background: #7c4dff; }
    .badge-help      { background: #ff6d00; }
    footer {
      text-align: center;
      padding: 18px 20px;
      color: var(--text-secondary);
      font-size: 0.95rem;
      border-top: 1px solid var(--border);
      background: var(--bg);
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      z-index: 100;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
    }
    footer p {
      margin: 0 0 8px 0;
      display: block;
    }
    .back-to-top {
      display: inline-block;
      padding: 8px 16px;
      background: var(--surface);
      color: var(--text);
      text-decoration: none;
      border-radius: 12px;
      font-size: 0.85rem;
      font-weight: 600;
      border: 1.5px solid var(--border);
      transition: all 0.2s ease;
    }
    .back-to-top:hover {
      background: var(--hover);
      color: var(--text-header);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    @media (max-width: 768px) {
      .stats { flex-direction: column; align-items: center; }
      th, td { padding: 12px; font-size: 0.85rem; }
      header h1 { font-size: 2rem; }
      .section-title { font-size: 1.5rem; }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">

  <!-- ヘッダー -->
  <header>
    <h1>xPlayer - 処理一覧</h1>
    <p>Ver2.36 ｜ 2025-11-08 <strong>（更新）</strong></p>
    <div class="stats">
      <div class="stat"><a href="#init-section">初期処理: <strong>12</strong> <span class="change">+1</span></a></div>
      <div class="stat"><a href="#func-section">関数: <strong>43</strong> <span class="change">+8</span></a></div>
      <div class="stat"><a href="#renderer-section">レンダラーイベント: <strong>4</strong> <span class="change">+3</span></a></div>
      <div class="stat"><a href="#global-section">グローバルイベント: <strong>4</strong></a></div>
      <div class="stat"><a href="#event-section">イベントリスナー: <strong>53</strong> <span class="change">-7</span></a></div>
    </div>
  </header>

  <!-- 初期処理（12個） -->
  <div class="section" id="init-section">
    <h2 class="section-title">初期処理（12）</h2>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>No.</th>
            <th>処理内容</th>
            <th>詳細</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td>Electronモジュールインポート</td><td><span class="code">const { ipcRenderer } = require('electron');</span> など（<code>exec</code> 追加）</td></tr>
          <tr><td>2</td><td>表示設定</td><td><span class="code">const overlayTimeout = 3000;</span> など（HTML5対応拡張子リスト <code>HTML5_SUPPORTED</code> 追加）</td></tr>
          <tr><td>3</td><td>DOM要素取得</td><td><span class="code">const videoPlayer = document.getElementById('videoPlayer');</span> など（<code>filenameMenus</code>, <code>filenameMenu</code> 追加）</td></tr>
          <tr><td>4</td><td>localStorage から復元</td><td><span class="code">const savedControlSize = localStorage.getItem('controlSize');</span> など（変更なし）</td></tr>
          <tr><td>5</td><td>状態変数初期化</td><td><span class="code">let playlist = [];</span> など（<code>isConverting</code>, <code>videoPlayerActive</code> 追加）</td></tr>
          <tr><td>6</td><td>初期化状態設定</td><td><span class="code">videoPlayer.src = '';</span> など（<code>filenameMenus.style.display = 'none'</code> 追加）</td></tr>
          <tr><td>7</td><td>コントロールサイズ適用</td><td><span class="code">let initialControlSize = ...</span> など（変更なし）</td></tr>
          <tr><td>8</td><td>ネット動画選択色変更</td><td><span class="code">if (youtubeAdd === 'embed')</span> など（変更なし）</td></tr>
          <tr><td>9</td><td>ボリューム復元</td><td><span class="code">if (savedVolume && ...)</span> など（変更なし）</td></tr>
          <tr><td>10</td><td>描画モード復元</td><td><span class="code">if (savedFitMode && ...)</span> など（変更なし）</td></tr>
          <tr><td>11</td><td>起動時の引数有無判定</td><td><span class="code">(async () => { ... })</span> など（変更なし）</td></tr>
          <tr><td>12</td><td><span class="new">プレイリスト編集メニュー非表示</span></td><td><span class="code">filenameMenus.style.display = 'none';</span></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- 関数（43個） -->
  <div class="section" id="func-section">
    <h2 class="section-title">関数（43）</h2>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>No.</th>
            <th>関数名</th>
            <th>説明</th>
            <th>分類</th>
          </tr>
 (同じ内容)
        </tbody>
      </table>
    </div>
  </div>

  <!-- レンダラーイベント（4個） -->
  <div class="section" id="renderer-section">
    <h2 class="section-title">レンダラーイベント（4）</h2>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>No.</th>
            <th>対象</th>
            <th>イベント</th>
            <th>処理内容</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td><span class="code">ipcRenderer.on</span></td><td><span class="code">auto-play-files</span></td><td>main.js からの自動再生指示を受信</td></tr>
          <tr><td>2</td><td><span class="new"><span class="code">ipcRenderer.on</span></td><td><span class="code">convert-progress</span></td><td>FFmpeg変換進捗受信</td></tr>
          <tr><td>3</td><td><span class="new"><span class="code">ipcRenderer.on</span></td><td><span class="code">converted-video</span></td><td>変換完了 → Blob URL設定</td></tr>
          <tr><td>4</td><td><span class="new"><span class="code">ipcRenderer.on</span></td><td><span class="code">convert-error</span></td><td>変換エラー表示</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- グローバルイベント（4個） -->
  <div class="section" id="global-section">
    <h2 class="section-title">グローバルイベント（4）</h2>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>No.</th>
            <th>対象</th>
            <th>イベント</th>
            <th>処理内容</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td><span class="code">window</span></td><td><span class="code">resize</span></td><td>コントロールサイズ自動調整</td></tr>
          <tr><td>2</td><td><span class="code">document</span></td><td><span class="code">keydown</span></td><td>ショートカットキー全般（ヘルプ、URL、再生制御、プレイリスト編集など）</td></tr>
          <tr><td>3</td><td><span class="code">document</span></td><td><span class="code">mouseup</span></td><td>シークバードラッグ終了検知</td></tr>
          <tr><td>4</td><td><span class="code">document</span></td><td><span class="code">fullscreenchange</span></td><td>フルスクリーン状態更新</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- イベントリスナー（53個） -->
  <div class="section" id="event-section">
    <h2 class="section-title">イベントリスナー（53）</h2>
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>No.</th>
            <th>対象</th>
            <th>イベント</th>
            <th>処理内容</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td><span class="code">urlInputBtn</span></td><td><span class="code">click</span></td><td>URL入力開始 or 即再生（クリップボード貼り付け）</td></tr>
          <tr><td>2</td><td><span class="code">folderInput</span></td><td><span class="code">click</span></td><td>フォルダ選択 → プレイリスト作成（ipcRenderer）</td></tr>
          <tr><td>3</td><td><span class="code">videoInput</span></td><td><span class="code">click</span></td><td>ファイル選択 → プレイリスト作成（ipcRenderer）</td></tr>
          <tr><td>4</td><td><span class="code">urlConfirmBtn</span></td><td><span class="code">click</span></td><td>URL確定</td></tr>
          <tr><td>5</td><td><span class="code">urlCancelBtn</span></td><td><span class="code">click</span></td><td>URLキャンセル</td></tr>
          <tr><td>6</td><td><span class="code">playPauseBtn</span></td><td><span class="code">click</span></td><td>再生/一時停止切替</td></tr>
          <tr><td>7</td><td><span class="code">playStopBtn</span></td><td><span class="code">click</span></td><td>再生停止</td></tr>
          <tr><td>8</td><td><span class="code">prevVideoBtn</span></td><td><span class="code">click</span></td><td>前の動画</td></tr>
          <tr><td>9</td><td><span class="code">rewindBtn</span></td><td><span class="code">click</span></td><td>30秒戻る</td></tr>
          <tr><td>10</td><td><span class="code">fastForwardBtn</span></td><td><span class="code">click</span></td><td>30秒進む</td></tr>
          <tr><td>11</td><td><span class="code">nextVideoBtn</span></td><td><span class="code">click</span></td><td>次の動画</td></tr>
          <tr><td>12</td><td><span class="code">volumeMuteBtn</span></td><td><span class="code">click</span></td><td>ミュート切替</td></tr>
          <tr><td>13</td><td><span class="code">fullscreenBtn</span></td><td><span class="code">click</span></td><td>フルスクリーン切替</td></tr>
          <tr><td>14</td><td><span class="code">fitModeBtn</span></td><td><span class="code">click</span></td><td>描画モード切替</td></tr>
          <tr><td>15</td><td><span class="code">sizeSelect</span></td><td><span class="code">change</span></td><td>コントロールサイズ変更</td></tr>
          <tr><td>16</td><td><span class="code">filenameDisplay</span></td><td><span class="code">change</span></td><td>プレイリストから動画選択</td></tr>
          <tr><td>17</td><td><span class="code">helpOpenBtn</span></td><td><span class="code">click</span></td><td>ヘルプ表示</td></tr>
          <tr><td>18</td><td><span class="code">helpCloseBtn</span></td><td><span class="code">click</span></td><td>ヘルプ閉じる</td></tr>
          <tr><td>19</td><td><span class="code">videoPlayer</span></td><td><span class="code">loadedmetadata</span></td><td>シークバー・時間初期化</td></tr>
          <tr><td>20</td><td><span class="code">videoPlayer</span></td><td><span class="code">error</span></td><td>エラー → アイコン表示</td></tr>
          <tr><td>21</td><td><span class="code">videoPlayer</span></td><td><span class="code">timeupdate</span></td><td>シークバー・時間更新</td></tr>
          <tr><td>22</td><td><span class="code">videoPlayer</span></td><td><span class="code">ended</span></td><td>次の動画 or 停止（Blob URL解放）</td></tr>
          <tr><td>23</td><td><span class="code">videoPlayer</span></td><td><span class="code">contextmenu</span></td><td>右クリックで再生/停止（Ctrl で停止）</td></tr>
          <tr><td>24</td><td><span class="code">videoPlayer</span></td><td><span class="code">dblclick</span></td><td>フルスクリーン切替</td></tr>
          <tr><td>25</td><td><span class="code">videoPlayer</span></td><td><span class="code">mousedown</span></td><td>マウスドラッグ開始</td></tr>
          <tr><td>26</td><td><span class="code">videoPlayer</span></td><td><span class="code">mousemove</span></td><td>マウスドラッグ操作</td></tr>
          <tr><td>27</td><td><span class="code">videoPlayer</span></td><td><span class="code">mouseup</span></td><td>マウスドラッグ終了</td></tr>
          <tr><td>28</td><td><span class="code">videoPlayer</span></td><td><span class="code">mouseleave</span></td><td>マウス離脱時ドラッグ解除</td></tr>
          <tr><td>29</td><td><span class="code">videoPlayer</span></td><td><span class="code">click</span></td><td>左クリックで表示切替</td></tr>
          <tr><td>30</td><td><span class="code">videoPlayer</span></td><td><span class="code">wheel</span></td><td>ホイールで音量調整</td></tr>
          <tr><td>31</td><td><span class="code">seekBar</span></td><td><span class="code">input</span></td><td>リアルタイムシーク</td></tr>
          <tr><td>32</td><td><span class="code">seekBar</span></td><td><span class="code">change</span></td><td>シーク終了時保存</td></tr>
          <tr><td>33</td><td><span class="code">seekBar</span></td><td><span class="code">mousedown</span></td><td>ドラッグ開始 + 暗転</td></tr>
          <tr><td>34</td><td><span class="code">seekBar</span></td><td><span class="code">mouseover</span></td><td>プレビュー表示</td></tr>
          <tr><td>35</td><td><span class="code">seekBar</span></td><td><span class="code">mousemove</span></td><td>プレビュー位置・時間更新</td></tr>
          <tr><td>36</td><td><span class="code">seekBar</span></td><td><span class="code">mouseout</span></td><td>プレビュー非表示</td></tr>
          <tr><td>37</td><td><span class="code">seekBar</span></td><td><span class="code">mouseleave</span></td><td>ドラッグ中離脱時解除</td></tr>
          <tr><td>38</td><td><span class="code">volumeBar</span></td><td><span class="code">input</span></td><td>音量リアルタイム調整 + 保存</td></tr>
          <tr><td>39</td><td><span class="code">volumeBar</span></td><td><span class="code">mousemove</span></td><td>ドラッグ中音量%プレビュー</td></tr>
          <tr><td>40</td><td><span class="code">volumeBar</span></td><td><span class="code">mouseleave</span></td><td>非アクティブ時オーバーレイ非表示</td></tr>
          <tr><td>41</td><td><span class="code">controls</span></td><td><span class="code">mouseover</span></td><td>表示タイマー停止</td></tr>
          <tr><td>42</td><td><span class="code">controls</span></td><td><span class="code">mouseleave</span></td><td>タイマー再開</td></tr>
          <tr><td>43</td><td><span class="code">filename</span></td><td><span class="code">mouseover</span></td><td>ファイル名表示タイマー停止</td></tr>
          <tr><td>44</td><td><span class="code">filename</span></td><td><span class="code">mouseleave</span></td><td>ファイル名表示タイマー再開</td></tr>
          <tr><td>45</td><td><span class="code">videoContainer</span></td><td><span class="code">mousemove</span></td><td>ビデオコンテナマウス移動（カーソル表示）</td></tr>
          <tr><td>46</td><td><span class="code">tooltipElements</span></td><td><span class="code">mouseenter</span></td><td>ツールチップ表示</td></tr>
          <tr><td>47</td><td><span class="code">tooltipElements</span></td><td><span class="code">mouseleave</span></td><td>ツールチップ非表示</td></tr>
          <tr><td>48</td><td><span class="new"><span class="code">upMovePlaylistBtn</span></td><td><span class="code">click</span></td><td>プレイリスト項目を上に移動</td></tr>
          <tr><td>49</td><td><span class="new"><span class="code">downMovePlaylistBtn</span></td><td><span class="code">click</span></td><td>プレイリスト項目を下に移動</td></tr>
          <tr><td>50</td><td><span class="new"><span class="code">addPlaylistBtn</span></td><td><span class="code">click</span></td><td>動画をプレイリストに追加</td></tr>
          <tr><td>51</td><td><span class="new"><span class="code">removePlaylistBtn</span></td><td><span class="code">click</span></td><td>選択項目をプレイリストから削除</td></tr>
          <tr><td>52</td><td><span class="new"><span class="code">clearPlaylistBtn</span></td><td><span class="code">click</span></td><td>プレイリストを全削除</td></tr>
          <tr><td>53</td><td><span class="new"><span class="code">savePlaylistBtn</span></td><td><span class="code">click</span></td><td>プレイリストをファイル保存</td></tr>
          <tr><td>54</td><td><span class="new"><span class="code">filenameMenu</span></td><td><span class="code">click</span></td><td>プレイリスト編集メニュー表示/非表示切替</td></tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

  <!-- フッター：常に最下部に表示 + 先頭へ戻るリンク -->
  <footer>
    <p>© 2025 x-builder, Japan ｜ xPlayer Ver2.35</p>
    <a href="#" class="back-to-top">ページトップへ戻る</a>
  </footer>
</body>
</html>
