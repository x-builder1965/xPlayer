# xPlayer -動画プレイヤー- (xPlayer-windows)

## 概要
xPlayer はローカルファイルやネット動画（YouTube / Twitch 等）の再生を想定した軽量な Electron ベースの動画プレイヤーです。  
シンプルな操作、プレイリスト管理、再生速度の自由な変更、動画のカット編集を重視しています。

## 主な機能
- ローカル動画ファイル（mp4, webm, ogg, mov, m4v など）のネイティブ再生
- 非対応形式は **FFmpeg** を使って mp4 に自動変換
- 動画のカット編集（複数範囲指定対応）✂️
- 再生速度の変更（0.25×〜2.0×）と**動画切り替え時・アプリ再起動時も維持**
- プレイリストの作成・編集・保存・読み込み
- URL入力によるネット動画の補助再生（YouTube / Twitch の動画ID抽出対応）
- クリップボードからの自動URL貼り付け（Ctrl+n または 🌐ボタン）
- 豊富なショートカットキー（再生、音量、ズーム、編集モードなど）
- ドラッグ＆ドロップによるファイル／フォルダ読み込み
- **動画のズーム＆移動機能 🔍（Ver 3.26 以降）**  
  最大500%までのズームイン／アウト + マウスドラッグによるパン（画面移動）対応
- スナップショット機能（準備中）

## 動作環境
- Windows 10 / 11（推奨）
- 配布版は Electron パッケージング済み（Node.js 不要）
- 開発時は Node.js / npm が必要

## 使い方（ユーザー向け）
1. アプリを起動
2. 動画ファイルをドラッグ＆ドロップ、または「📁」ボタンでフォルダ／ファイルを選択
3. ネット動画を再生したい場合は「🌐」ボタンまたは `Ctrl+n` で URL 入力欄を開き、URL（またはクリップボード貼り付け）→ Enter

### 再生速度の変更（Ver 3.19 以降）
- 画面右下のドロップダウンから選択（0.25×〜2.0×）
- ショートカット：
  - `Ctrl+.` → 速度アップ
  - `Ctrl+,` → 速度ダウン
- **次の動画・前の動画・プレイリスト選択時、アプリ再起動後も設定速度を維持**します

### 動画のカット編集機能 ✂️（Ver 3.24 以降）
1. 動画再生中に `Ctrl+e` または ✂️ボタンで編集モードに入る
2. 主な操作：
   - **IN** ボタン → 現在の位置をカット開始点に設定
   - **OUT** ボタン → 現在の位置をカット終了点に設定
   - 複数範囲を追加可能（「カット範囲追加」ボタン）
   - 編集用シークバーで1フレーム単位の微調整も可
   - **保存** ボタン → 指定範囲を**削除**した新しい動画ファイルを生成
3. 保存時のファイル名例：`元ファイル名_trimmed.mp4`（ダイアログで変更可）
4. キャンセルしたい場合は 🚫 ボタン

※ 編集モード中は左右キー（←→）でフレーム単位移動します（フレームレートは設定可）

### ズーム＆移動機能 🔍（Ver 3.26 以降）
- `Ctrl+z` でズームモードのオン／オフを切り替え
- ズーム中：
  - マウスホイール ↑↓ → ズームイン／アウト（-100%〜+500%）
  - マウスドラッグ → 画面の移動（パン）
  - `Ctrl+x` → フィットモード切替（contain / cover）
- ズーム状態も動画切り替え時やアプリ再起動時に記憶（任意設定可）

## 主なショートカットキー（代表例）
| キー               | 動作                              |
|--------------------|-----------------------------------|
| `Space` / 右クリック | 再生／一時停止                   |
| `Ctrl + Space`     | 停止                              |
| `Ctrl + ,` / `Ctrl + .` | 再生速度 ダウン／アップ       |
| `Ctrl + m`         | ミュート／解除                    |
| `Ctrl + ↑` / `↓`   | 音量アップ／ダウン                |
| `Ctrl + ←` / `→`   | 30秒戻る／進む                    |
| `←` / `→`          | 5秒戻る／進む（編集・ズーム時はフレーム単位） |
| `PageUp` / `PageDown` | 前の動画／次の動画              |
| `Ctrl + n`         | ネット動画（URL入力）             |
| `Ctrl + d`         | フォルダ選択                      |
| `Ctrl + f`         | ファイル選択                      |
| `Ctrl + e`         | 編集モード（カット） ✂️          |
| `Ctrl + z`         | **ズームモード オン／オフ** 🔍    |
| `Ctrl + x`         | **フィットモード切替（contain/cover）** |
| `Ctrl + h`         | ヘルプ表示                        |

※ ズームモード中はマウスホイールで拡大縮小、ドラッグで移動できます。  
※ 詳細なショートカット一覧はアプリ内の「❔」ボタンまたは `Ctrl+h` で確認できます。

## 開発者向け（ビルド・実行）
```bash
# 開発実行
git clone <repository>
cd xPlayer
npm install
npm start

# 配布用ビルド（要 electron-builder）
npm run build    # または package.json に定義されたスクリプト